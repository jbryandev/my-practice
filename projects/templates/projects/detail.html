<!-- templates/detail.html -->
{% extends 'base.html' %}

{% block title %} - Project Detail{% endblock %}

{% load breadcrumbs text_formats %}

{% block content %}
{% block breadcrumbs %}
    {% clear_breadcrumbs %}
    {% breadcrumb "Home" "home" %}
    {% breadcrumb "Projects" "projects:index" %}
    {% breadcrumb project.project_name project.id %}
{% endblock %}
{% render_breadcrumbs %}

<!-- Project Title -->
<h2>{{ project.project_name }}</h2>
<hr></hr>

<!-- Project Details -->
<div class="row">
    <div class="col-sm-6">
        <div class="card border-light mb-3">
            <h5 class="card-header">Project Data</h5>
            <div class="card-body">
                <table>
                    <td style="width: 55%;">
                        <strong>Location: </strong><br>
                        <strong>Project Number: </strong><br>
                        <strong>Project Manager: </strong><br>
                        <strong>Client: </strong><br>
                        <strong>Client Contact: </strong><br>
                        <strong>Client Phone: </strong><br>
                        <strong>Client Email: </strong><br>
                    </td>
                    <td>
                        {{ project.project_location }}<br>
                        {{ project.project_number }}<br>
                        {{ project.project_manager }}<br>
                        {{ project.client_name }}<br>
                        {{ project.client_contact }}<br>
                        {{ project.client_phone|phone }}<br>
                        {{ project.client_email }}<br>
                    </td>
                </table>
                
            </div>
        </div>
    </div>
    <div class="col-sm-6">
        <div class="card border-light mb-3">
            <h5 class="card-header">Design & Construction</h5>
            <div class="card-body">
                <table>
                    <td style="width: 65%;">
                        <strong>Design Start: </strong><br>
                        <strong>Design End: </strong><br>
                        <strong>Design Fee: </strong><br>
                        <strong>Construction Start: </strong><br>
                        <strong>Construction End: </strong><br>
                        <strong>Construction Cost: </strong><br>
                    </td>
                    <td>
                        {{ project.des_start_date|date:"F d, Y" }}<br>
                        {{ project.des_end_date|date:"F d, Y" }}<br>
                        {{ project.des_fee|currency }}<br>
                        {{ project.con_start_date|date:"F d, Y" }}<br>
                        {{ project.con_end_date|date:"F d, Y" }}<br>
                        {{ project.con_cost|currency }}<br>
                    </td>
                </table>
                <br>
            </div>
        </div>
    </div>
</div>

<!-- Project Writeup Section -->
{% with project.writeups.all as writeups %}
    {% if writeups %}
    <div class="card border-light mb-3">
        <h5 class="card-header">Project Writeups</h5>
        <div class="card-body">
            {% for writeup in writeups %}
            <p>{% if writeup.focus %}<span class="badge badge-danger">{{ writeup.focus }}</span></p>{% endif %}
            <p>{{ writeup.project_writeup|linebreaks }}</p>
            {% endfor %}
        </div>
    </div>
    {% endif %}
{% endwith %}
{% endblock %}